<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Memo</title>
    <script type="text/javascript">
      window.onload = oppstart;
      var kortInnhold = [
        "Trekant","Trekant","Trekant","Trekant",
        "firkant","firkant","firkant","firkant",
        "parallellogram","parallellogram","parallellogram","parallellogram",
        "sirkel","sirkel","sirkel","sirkel",
      ];

      function oppstart() {
        genMemo(kortInnhold, "memofelt", 4, 400, "rgb(156, 52, 108)", "rgba(31, 34, 122, 0.7)");//Holde alt i en funksjon slik at den kan brukes i relevante oppgaver uten at det krever for mye ekstra styr
      }
      function genMemo(data, feltId, antallKortX, feltSide, bgFarge, kortFarge) {//stiler utover height, width, bgColor og id gjøres i stilark
        //divvar
        antallApnet = 0;
        //lage felt
        var felt = document.createElement("div");
        felt.id = feltId;
        felt.style.width = feltSide + "px";
        felt.style.height = feltSide + "px";
        felt.style.backgroundColor = bgFarge;
        felt.style.border = "solid";

        document.body.appendChild(felt);
        //sorter kort i tilfeldig rekkefølage
        function shuffleArray(array) {
          for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = array[i];
            array[i] = array[j];
            array[j] = temp;
          }
          return array;
          }
          shuffleArray(data);

        //lage kort
        for(i in data){//data er et arr med alle kortverdiene. Sendes inn som et argument
          var nyttKort = document.createElement("div");
          nyttKort.style.width = feltSide / antallKortX + "px";
          nyttKort.style.height = feltSide / antallKortX + "px";
          nyttKort.style.backgroundColor = kortFarge;
          nyttKort.style.display = "inline-block";

          nyttKort.onclick = function(evt){//Når brukeren velger et kort
            console.log("klikket" + evt.target.className);
            antallApnet++;
            console.log(antallApnet);
            if (antallApnet <= 2) {
              evt.target.style.backgroundColor = "rgb(14, 147, 161)";
            }
            else {
              for(i in document.getElementsByClassName("kort")){
                document.getElementsByClassName("kort")[i].style.backgroundColor = kortFarge;
                antallApnet = 0; 
              }
            }
          }
          nyttKort.innerHTML = data[i];
          nyttKort.className = data[i]; //må kanskje behandles som loop senere fordi klasser er arrayer med elementer(?)
          nyttKort.className += " kort";

          felt.appendChild(nyttKort);
        }
      }
    </script>
    <style media="screen">
      #body{
        background-color: rgb(20, 126, 110);
      }
      #memofelt{

      }
    </style>
  </head>
  <body>

  </body>
</html>
